#!/usr/bin/env node
# vim: filetype=coffee
program = require 'commander'
Model = require '../lib/model'
Todo = require '../lib/todo'
reader = require '../lib/reader'

program
  .version('0.0.1')
  .usage('[options] <command> [args]')
  .option('-f, --todofile <F>', 'Path to todo file', 'todo.txt')

program
  .command('ls')
  .description('List todos')
  .action(() ->
    reader.read @todofile, (err, mdl) ->
      console.log mdl.map((t) -> t.text).join("\n")
  )

program.parse process.argv
